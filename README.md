# прошу вас перейти в мою репозиторию GitHub для лучшей репрезентативности проекта `https://github.com/Gandoler/CaspLearn`

# Тестовое задание `Общее задание от Группы тестирования корпоративных сайтов, Группы развития инфраструктуры антивирусных баз и Группы анализа инфраструктуры`

## Карта проекта

Проект делиться на две основные папки  `AwesomeApi` и `Client` соответсвенно в них лежат серверная часть и клиентская и в корнях проектов лежат README с их описанием

##  Что удалось реализовать, а что нет

### Backend

| Функционал | Статус | Комментарий |
|------------|--------|--------------|
| Эндпоинт: список всех файлов | да | |
| Эндпоинт: инициализация процесса архивирования | да | |
| Эндпоинт: проверка статуса процесса | да | |
| Эндпоинт: скачивание архива | да | |
| Асинхронная обработка задач архивирования | да | |
| Логирование запросов в консоль | да | |
| Валидация входных данных (невалидные имена файлов) | да | |
| Документация по запуску сервиса | да | |

#### Дополнительно ()

| Функционал | Статус | Комментарий |
|------------|--------|--------------|
| Персистентное хранилище логов  | 50/50 | в файл сохранение есть, в бд не успел реализовать |
| Dockerfile | да | так как микросервис получился один, сделал только докер без композера|
| Unit-тесты | да | |
| Кэширование архивов | (нет) фейковое | лишь даю ему guid, но потом не занимаюсь отлавливанием похожих запросов с целью оптимизации |

---

### Client (Консольная утилита)

| Функционал | Статус | Комментарий |
|------------|--------|--------------|
| Запрос списка файлов | да | |
| Создание архива | да | |
| Проверка статуса процесса | да | |
| Скачивание архива | да | |
| Документация по использованию | да | |

#### Дополнительно ()

| Функционал | Статус | Комментарий |
|------------|--------|--------------|
| Поддержка POSIX-стандарта CLI | да | Тут невозможно быть на 100%  увереным, может что и сломаеться, старался не использовать ничего связывающего с ситемой|
| Автоматический режим (создание → ожидание → скачивание) | да | |
| Unit-тесты | 10% | не хватило времени(|

прошу сильно не судить - разрабатывалось всего 10 часов)

## запуск того и сего + описан в каждом из проектов

### сервер

#### docker

> главное указать правильный путь до докер-файла, он лежит `CaspLearn\AwesomeApi\API\AwesomApi\` а запустить откуда угодно: главное чтоб был запушен демон докера

```bash
docker build <path>\CaspLearn\AwesomeApi\API\AwesomApi\    -t awesomeapi

docker run -d -p 5011:8080 --name awesomeapi awesomeapi

```

> и все отлично запустилось)


#### обычный (скучный метод)

> переходим в `CaspLearn\AwesomeApi\API\AwesomApi\`

```bash
dotnet build -c Release
dotnet run
```

> и все

#### после всего этого заходим на `http://localhost:5011`


### клиент - подробно описано в его папке

```bash
dotnet build .\Client\Client.csproj -c Debug
```

##  Технологии

### Backend
- **ASP.NET Core 9.0** - веб-фреймворк
- **System.IO.Compression** - создание ZIP архивов
- **System.Threading.Channels** - очередь задач
- **Microsoft.Extensions.Logging** - логирование
- **Swashbuckle.AspNetCore** - Swagger документация

### Клиент
- **System.CommandLine** - CLI фреймворк
- **System.Text.Json** - JSON сериализация
- **HttpClient** - HTTP клиент

### Тестирование
- **xUnit** - тестовый фреймворк
- **Moq** - мокирование зависимостей

### Контейнеризация
- **Docker** - контейнеризация
- **.NET 9 Runtime** - базовый образ
